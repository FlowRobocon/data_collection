<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

<head>
    <meta charset="utf-8">
    <title>発話作成ページ</title>
    <style>
        body {
            background-color: #ffffff;
            font-size: 16px;
        }
        
        td,
        th {
            padding: 5px;
        }
        
        p {
            clear: both;
        }
        
        .container {
            width: 80%;
        }
        
        .dialog-contents {
            background-color: lightgray;
        }
        
        figure.images {
            float: left;
            padding-right: 20px;
        }
    </style>
</head>

<body>
    <div class="container" id='Instruction'>
        <h2>作業概要</h3>
            <p>旅行代理店における店員（カウンターセールス）または客の，どちらかの発話（話す言葉）を作成していただきます．作業内容は，<strong>指定される「どういう意図で発話しようとしているか」および「発話に含めたい情報」を全て含んだ発話を作成する</strong>，というものです．</p>
            <p>※ 作業時間は40分程度と予想されます．<br>※
                <font color=red>本ページを再読み込みすると，それまでに入力された情報はすべてリセットされますのでご注意ください．</font>
            </p>
            <h2>対話状況</h3>
                <ul style="background-color:lightgray;">
                    <li><strong>旅行代理店で客（ユーザ）と店員（システム）が会話している</strong></li>
                    <li><strong>ユーザは</strong>，訪れる観光地を候補として2箇所決めており，そのどちらに行くかをシステムと相談して決めたい</li>
                    <li><strong>システムは</strong>，2つの観光地の見所などを説明したり，ユーザからの質問に答えたりしながら，観光地を決める手助けをする</li>
                </ul>
    </div>
    <div class="container" id="work">
        <h2>作業</h2>
        <p>
            <h3>1-1. CrowdWorksでのワーカーID・表示名を入力してください</h3>
            <p>Worker ID：<input type="text" id="WorkerID" name="WorkerID" /></p>
            <p>表示名：<input type="text" id="WorkerName" name="WorkerName" /></p>
        </p>
        <!-- <p>
            <h3>1-2. ご自身の性別と年代を選択してください</h3>
            <p>
                性別：
                <input name="Gender" type="radio" value="M" />男性
                <input name="Gender" type="radio" value="F" />女性
                <input name="Gender" type="radio" value="O" />その他
            </p>
            <p>
                年齢：
                <input name="Age" type="radio" value="10~20" />10代
                <input name="Age" type="radio" value="20~30" />20代
                <input name="Age" type="radio" value="30~40" />30代
                <input name="Age" type="radio" value="40~50" />40代
                <input name="Age" type="radio" value="50~60" />50代
                <input name="Age" type="radio" value="60~" />60代以上
            </p>
        </p> -->
        <p>
            <h3>2-1. 2つの対話を作成してください</h3>
            <p>以下のガイドラインと注意事項によく目を通してから，本ページ下部の表を埋めるかたちで作業してください．</p>
            <p>
                <font color=maroon><strong>ガイドライン</strong></font>
            </p>
            <ul>
                <li>表の各行は，「発話者，発話の意味，発話文」からなっています．</li>
                <li><strong>「発話者」の列には</strong>，客（ユーザ）と店員（システム）の内，どちらの発話であるかが示されています</li>
                <li><strong>「発話の意味」の列には</strong>，あなたが作成するべき発話の意図や情報が示されています．</li>
                <li>「発話文」の列に<font color=maroon><strong>言い方の異なる2種類の発話文</strong></font>
                    を考えて，2つの入力欄それぞれに記入してください．
                    発話文としては，<strong>「発話者」が「発話の意味」を伝える際に想定されるような文章</strong>を考えてください．</li>
            </ul>
            <!-- <img src="figs/1.png" width="900"> -->
            <p>
                <font color=maroon><strong>発話文を作成する際の注意事項</strong></font>
            </p>
            <ul>
                <li><strong>実際の旅行代理店で想定されるような，できるだけ自然な発話文</strong>を作成してください．
                    <li>テキスト文ではありますが，<strong>対面で対話していることを想定した発話文</strong>を作成してください．</li>
                    <li>それぞれの指定する情報に従って2種類の発話文を作成していただきます．<strong>発話の内容は同じまま，口調や表現，伝え方を変えることでバリエーションのある発話文を作成してください．</strong>発話の丁寧さは<strong>旅行代理店における対話において不自然でないと考えられる範囲</strong>で自由に設定してください．</li>
                    <!-- <ul>
                        <li>指示文「<span style="background-color:lightgray">箕面大滝に関する追加情報を要求する</span>」にしたがって作成する場合
                            <ul>
                                <li>作成例：<span style="background-color:lightgray">もっと箕面大滝について知りたいんだけど</span></li>
                                <li>作成例：<span style="background-color:lightgray">箕面大滝ってどんなところなんですか</span></li>
                            </ul>
                        </li>
                    </ul>
                    <li>各時点の指示文に含まれない内容は発話文に含めないでください（直前の発話を含む，過去の店員や客の発話に含まれる観光地名なども使用しないでください）．また，各時点より先（未来）の対話の流れは考慮しないでください．</li>
                    <li><strong>指示文に<font color=blue>青色</font>で書かれた単語が含まれている場合は，<font color=maroon>その単語を必ずそのままの形で発話文に含めてください</font></strong>．
                        <ul>
                            <li>指示文「<span style="background-color:lightgray;"><font color=blue>民家集落博物館</font>への観光経験は無いことを伝える</span>」にしたがって作成する場合
                                <ul>
                                    <li><strong>良い例</strong>：<span style="background-color:lightgray">民家集落博物館は行ったことないな</span></li>
                                    <li><strong>悪い例</strong>：<span style="background-color:lightgray">民家博物館は行ったことないんです</span></li>
                                    <li><strong>悪い例</strong>：<span style="background-color:lightgray">行ったことないな</span></li>
                                </ul>
                            </li>
                        </ul>
                    </li> -->
                    <li>「どういう意図で発話しようとしているか」および「発話に含めたい情報」の指定が20個並んでいますが，それぞれ前後との関係は無いものと考えてください．</li>
                    <li>作成していただく発話は，その前（過去）に指定に応じた適切な文脈があると考えていただいて大丈夫です．</li>
                    <li><strong>発話文に含めてよい記号は句読点だけです．句読点以外の記号（！，？，～など）や絵文字は含めないでください．</strong></li>
                    <li>「発話に含めたい情報」が複数指定されていることがあります．その際は，<strong>1つの発話だけで全ての「発話に含めたい情報」を含んでいるような発話を2つ作成する必要があります．</strong></li>
            </ul>
            <h3>2-2. 作成した発話データをダウンロードして，CrowdWorksで提出してください</h3>
            <p>表の下方に設置されている
                <font bold>ダウンロード</font>をクリックすることで，入力された発話データをCSV形式で<strong>1対話分ずつ</strong>ダウンロードすることができます．ダウンロードした発話データをCrowdWorksの作業ページで提出してください．</p>
            <p>
                <font color=maroon><strong>対話データの提出に関する注意事項</strong></font>
            </p>
            <ul>
                <!-- <li>2つの対話には，それぞれのダウンロードボタンが設けられていますので，必ず両方の対話データをダウンロードして提出してください．</li> -->
                <li>ダウンロードされるCSVファイルは文字コードの関係上文字化けしている可能性がありますが，問題ありません．</li>
                <li>1度ダウンロードされた対話データのファイル名やファイルの中身は編集しないでください．</li>
                <li>ダウンロードボタンをクリックしても対話データをダウンロードできない場合，全てのフォームが正しく入力されていな可能性があります．上記1-1.~2-1.の作業が正しくできているかを確認してください．</li>
            </ul>
        <p>良い例</p>
        <img src="figs/good_example1.png" width="900">
        <p>悪い例</p>
        <img src="figs/bad_example1.png" width="900">
        </p>
        <p>上記全ての作業が正確に行われていることが確認でき次第，CrowdWorksにてお仕事を承認し報酬をお支払いします．ただし，<strong>作業がインストラクション通りに行われていない場合や，明らかに対話の流れに沿わない発話や無関係な発話が確認できた場合は，不適切とみなし非承認とすることがありますのでご注意ください</strong>．</p>

    </div>
    <div class="container" id='Table1'></div>
    <div class="container" id='submit_button-1'>
        <br>
        <center><button class="btn btn-primary" id="submit-1" onclick="submit(1)">ダウンロード</button></center>
        <br>
    </div>
<!--     <script src="data/example.js"></script> -->
    <script src="script.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script language="javascript" type="text/javascript">
        let task_id = Math.floor(Math.random()*50);
        var json_data = ""
        $.getJSON("data/da_list-2022-0715/da_list-system-max2/group0/task" + String(task_id) + ".json", function(json) {
        json_data = json
        // console.log(String(task_id))
        // console.log(json);
        document.getElementById('Table1').innerHTML = create_table(task_id, json_data);
        });
    </script>

</body>
