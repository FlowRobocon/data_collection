<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

<head>
    <meta charset="utf-8">
    <title>発話作成ページ</title>
    <style>
        body {
            background-color: #ffffff;
            font-size: 16px;
        }
        
        td,
        th {
            padding: 5px;
        }
        
        p {
            clear: both;
        }
        
        .container {
            width: 80%;
        }
        
        .dialog-contents {
            background-color: lightgray;
        }
        
        figure.images {
            float: left;
            padding-right: 20px;
        }
    </style>
</head>

<body>
    <div class="container" id='Instruction'>
        <h2>作業概要</h2>
            <p>旅行代理店における後述の対話状況において，店員（カウンターセールス）の発話（話す言葉）を作成していただきます．作業内容は，<strong>指定される「発話の意図」および「発話に含めたい情報」を全て含んだ発話を作成する</strong>，というものです．</p>
            <!-- <p>※ 作業時間は40分程度と予想されます．<br>※
                <font color=red>本ページを再読み込みすると，それまでに入力された情報はすべてリセットされますのでご注意ください．</font>
            </p> -->
            <p>※<font color=red>本ページを再読み込みすると，それまでに入力された情報はすべてリセットされますのでご注意ください．</font></p>
            <h3>対話状況</h3>
                <ul style="background-color:lightgray;">
                    <li><strong>旅行代理店で客と店員が会話している</strong></li>
                    <li><strong>客は</strong>，訪れる観光地を候補として2箇所決めており，そのどちらに行くかを店員と相談して決めたい</li>
                    <li><strong>店員は</strong>，2つの観光地の見所などを説明したり，客からの質問に答えたりしながら，観光地を決める手助けをする</li>
                </ul>
    </div>
    <div class="container" id="work">
        <h2>作業</h2>
        <p>
            <h3>1-1. CrowdWorksでのワーカーID・表示名を入力してください</h3>
            <p>ワーカーID：<input type="text" id="WorkerID" name="WorkerID" /></p>
            <p>表示名：<input type="text" id="WorkerName" name="WorkerName" /></p>
        </p>
        <!-- <p>
            <h3>1-2. ご自身の性別と年代を選択してください</h3>
            <p>
                性別：
                <input name="Gender" type="radio" value="M" />男性
                <input name="Gender" type="radio" value="F" />女性
                <input name="Gender" type="radio" value="O" />その他
            </p>
            <p>
                年齢：
                <input name="Age" type="radio" value="10~20" />10代
                <input name="Age" type="radio" value="20~30" />20代
                <input name="Age" type="radio" value="30~40" />30代
                <input name="Age" type="radio" value="40~50" />40代
                <input name="Age" type="radio" value="50~60" />50代
                <input name="Age" type="radio" value="60~" />60代以上
            </p>
        </p> -->
        <p>
            <h3>2-1. 2つの発話を作成してください</h3>
            <p>以下のガイドラインと注意事項によく目を通してから，本ページ下部の表を埋めるかたちで作業してください．</p>
            <p>
                <font color=maroon><strong>ガイドライン</strong></font>
            </p>
            <img src="figs/guidelines_image.png" width="900">
            <ul>
                <li>表の各行は，「話者」，「発話の内容」，「発話文」からなります．</li>
                <li><strong>「話者」の列には</strong>，客と店員の内，どちらの発話であるかが示されています</li>
                <li><strong>「発話の内容」の列には</strong>，あなたが作成するべき発話の意図や発話に含めたい情報が示されています．</li>
                <li><strong>「発話文」の列に</strong>，あなたが考えた「話者」が「発話の内容」を伝える際の発話文を記入します．まず，発話を<strong>一種類</strong>考えて上の入力欄に記入してください．次に，<strong>違う言い方</strong>で<strong>同じ内容</strong>を言う発話を考えて下の入力欄に記入してください．</li>
                <ul>
                    <li>発話の内容は同じまま，<strong>口調や表現，伝え方</strong>を変えることでバリエーションのある発話文を作成してください．</li>
                    <li>実際の旅行代理店で想定されるような，<strong>できるだけ自然な</strong>発話文を作成してください．</li>
                    <ul>
                        <li>テキスト文ではありますが，<strong>書き言葉ではなく</strong>対面で対話していることを想定した<strong>話し言葉</strong>で作成してください．</li>
                        <li>発話の丁寧さは，旅行代理店における対話において不自然でないと考えられる範囲で自由に設定してください．</li>
                    </ul>
                    <li>発話意図の説明は<a href="files/system_intent_explanation.pdf" target="_blank">こちら</a>をご覧ください．（CrowdWorksの添付ファイル「店員の発話意図の説明.pdf」と同一の内容です）</li>
                    <li>一つの発話を複数の文で作成しても構いません．</li>
                    <li>「発話に含めたい情報」が複数指定されていることがあります．その際は，<strong>1つの発話だけ</strong>で<strong>全ての</strong>「発話に含めたい情報」を含むように発話を作成する必要があります．</li>
                    <p>【良い例】
                        <img src="figs/good_example1.png" width="900">
                        </p>
                        <p>【悪い例】
                        <img src="figs/bad_example1.png" width="900">
                        </p>
                        <li>複数の「発話に含めたい情報」を関連づけて発話文を作成しづらい場合は，「発話に含めたい情報」同士を強く関連づけず，並記するような発話文を作成していただいても大丈夫です．</li>
                    </li>
                    <li>"客の名前"に（※）が付いている場合には，話し相手をその名前で呼ぶような発話を作成してください．</li>
                    <ul>
                        <li>(例)「発話意図：質問する，客の名前（※）：鈴木，観光地への同行者：空欄」の場合</li>
                        <ul>
                            <li>「鈴木様はどなたとご観光される予定ですか？」</li>
                        </ul>
                    </ul>
                </ul>
            </ul>
            <!-- <img src="figs/1.png" width="900"> -->
            
            <p>
                <font color=maroon><strong>発話文を作成する際の注意事項</strong></font>
            </p>
            <ul>
                    
                    <!-- <ul>
                        <li>指示文「<span style="background-color:lightgray">箕面大滝に関する追加情報を要求する</span>」にしたがって作成する場合
                            <ul>
                                <li>作成例：<span style="background-color:lightgray">もっと箕面大滝について知りたいんだけど</span></li>
                                <li>作成例：<span style="background-color:lightgray">箕面大滝ってどんなところなんですか</span></li>
                            </ul>
                        </li>
                    </ul>
                    <li>各時点の指示文に含まれない内容は発話文に含めないでください（直前の発話を含む，過去の店員や客の発話に含まれる観光地名なども使用しないでください）．また，各時点より先（未来）の対話の流れは考慮しないでください．</li>
                    <li><strong>指示文に<font color=blue>青色</font>で書かれた単語が含まれている場合は，<font color=maroon>その単語を必ずそのままの形で発話文に含めてください</font></strong>．
                        <ul>
                            <li>指示文「<span style="background-color:lightgray;"><font color=blue>民家集落博物館</font>への観光経験は無いことを伝える</span>」にしたがって作成する場合
                                <ul>
                                    <li><strong>良い例</strong>：<span style="background-color:lightgray">民家集落博物館は行ったことないな</span></li>
                                    <li><strong>悪い例</strong>：<span style="background-color:lightgray">民家博物館は行ったことないんです</span></li>
                                    <li><strong>悪い例</strong>：<span style="background-color:lightgray">行ったことないな</span></li>
                                </ul>
                            </li>
                        </ul>
                    </li> -->
                    <li>「発話の意図」および「発話に含めたい情報」の指定が20個並んでいますが，それぞれ前後との関係は無い独立のものとして作業を行ってください．</li>
                    <li><strong>発話文に絵文字や顔文字を含めないでください．</strong></li>
            </ul>
            
            <h3>2-2. 作成した発話データをダウンロードして，CrowdWorksで提出してください</h3>
            <p>表の下方に設置されている
                <font bold>ダウンロード</font>をクリックすることで，入力された発話データをCSV形式でダウンロードすることができます．ダウンロードした発話データをCrowdWorksの作業ページで提出してください．</p>
            <p>
                <font color=maroon><strong>対話データの提出に関する注意事項</strong></font>
            </p>
            <ul>
                <!-- <li>2つの対話には，それぞれのダウンロードボタンが設けられていますので，必ず両方の対話データをダウンロードして提出してください．</li> -->
                <li>ダウンロードされる発話データのCSVファイルは，開いて中身を確認しないでください．ワーカー様の環境で開いてしまうと，文字コードに問題が生じ，ファイルの中身が壊れてしまうことがあるためです．</li>
                <li>ダウンロード時に自動で開く設定になっている場合，開かれたファイルをもう一度保存したりせず，そのまま閉じてください．文字コードの関係上文字化けしたように見えるかもしれませんが，問題ありません．</li>
                <li>1度ダウンロードされた発話データのファイル名やファイルの中身は編集しないでください．</li>
                <li>ダウンロードボタンをクリックしても対話データをダウンロードできない場合，全てのフォームが正しく入力されていない可能性があります．上記1-1.~2-1.の作業が正しくできているかを確認してください．</li>
            </ul>
        </p>
        <p>上記全ての作業が正確に行われていることが確認でき次第，CrowdWorksにてお仕事を承認し報酬をお支払いします．ただし，<strong>作業がインストラクション通りに行われていない場合や，明らかに対話の流れに沿わない発話や無関係な発話が確認できた場合は，不適切とみなし非承認とすることがありますのでご注意ください</strong>．</p>

    </div>
    <div class="container" id='Table1'></div>
    <div class="container" id='submit_button-1'>
        <br>
        <center><button class="btn btn-primary" id="submit-1" onclick="submit(1)">ダウンロード</button></center>
        <br>
    </div>
<!--     <script src="data/example.js"></script> -->
    <script src="script.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script language="javascript" type="text/javascript">
        let task_id = Math.floor(Math.random()*50);
        var speaker = "system"
        var json_data = ""
        $.getJSON("data/da_list-2022-0808/da_list-system-max2/group1/task" + String(task_id) + ".json", function(json) {
        json_data = json
        // console.log(String(task_id))
        // console.log(json);
        document.getElementById('Table1').innerHTML = create_table(task_id, json_data);
        });
    </script>

</body>
